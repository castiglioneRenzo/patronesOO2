package ar.edu.unlp.info.oo2.ejercicio_7;

import static org.junit.jupiter.api.Assertions.*;

import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.api.Test;

class ToDoItemTest {
	private ToDoItem item;
	@BeforeEach
	void setUp() {
		item = new ToDoItem("Un item de prueba");
	}
	@DisplayName("Item en estado 'Pending'")
	@Test
	void testPending() {
		assertEquals("Pending", item.getState().toString());
	}
	@DisplayName("Trancision de estado 'Pending' a 'InProgress'")
	@Test
	void testPendingInProgress() {
		assertEquals("Pending", item.getState().toString());
		item.start();
		assertEquals("InProgress", item.getState().toString());
	}
	@DisplayName("Trancision de estado 'Pending' a 'InProgress'")
	@Test
	void testPendingPaused() {				
		Throwable exception = assertThrows(RuntimeException.class, () -> item.togglePause());
		    assertEquals("El objeto ToDoItem no se encuentra en pause o in-progress", exception.getMessage());
		assertEquals("InProgress", item.getState().toString());
	}
	
	@DisplayName("Item en estado 'In Progress'")
	@Test
	void testInProgress() {
		assertEquals("InProgress", item.getState().toString());
	}

}
